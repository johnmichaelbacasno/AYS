    {% extends "main.html" %}

    {% block title %}Explore Services - Service Provider{% endblock %}

    {% block styles %}
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css">
    <style>
      body {
        padding-top: 3rem;
        padding-bottom: 3rem;
        color: #5a5a5a;
      }
    </style>
    {% endblock %}

    {% block scripts %}
    <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/extensions/toolbar/bootstrap-table-toolbar.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/extensions/custom-view/bootstrap-table-custom-view.js"></script>
    {% endblock %}

    {% block content %}
    <script>
      $(function() {
        $('#table').bootstrapTable({
          data: [
            {
              'service_id': 0,
              'service_title': 'Marks Spa',
              'service_description': 'I love to read, hang out with friends, watch football, listen to music, and learn new things.',
              'service_user_id': 0,
              'service_user_rating': 5,
              'service_user_level': 1,
              'service_user_is_trusted': true,
              'service_date_posted': '2021-12-25',
              'service_schedule': '2021-12-25',
              'service_location': 'Iligan City',
              'service_type': 'Beauty',
              'service_category': 'Spa and Salon',
              'service_amount': 500
            }
          ]
        })
      })

      function customViewFormatter (data) {
        var template = $('#profileTemplate').html();
        var view = '';

        $.each(data, function (i, row) {
          var stars = ''
          for (i = 0; i < row.service_user_rating; i++) {
            stars += '<span class="fa fa-star"></span> ';
          }

          var trusted = ''
          if (row.service_user_is_trusted) {
            trusted = '<span class="badge badge-info tags">Trusted</span>';
          }
          else {
            trusted = '';
          }

          view += template.replace('%TITLE%', row.service_title)
            .replace('%DESCRIPTION%', row.service_description)
            .replace('%USER_ID%', row.service_user_id)
            .replace('%USER_RATING%', stars)
            .replace('%USER_LEVEL%', row.service_user_level)
            .replace('%USER_IS_TRUSTED%', trusted)
            .replace('%DATE_POSTED%', row.service_date_posted)
            .replace('%SCHEDULE%', row.service_schedule)
            .replace('%LOCATION%', row.service_location)
            .replace('%TYPE%', row.service_type)
            .replace('%CATEGORY%', row.service_category)
            .replace('%AMOUNT%', row.service_amount)
            .replace('%MODAL_TITLE%', row.service_title)
            .replace('%MODAL_DESCRIPTION%', row.service_description)
            .replace('%MODAL_USER_ID%', row.service_user_id);
        })

        return `<div class="row mx-0">${view}</div>`;
      }
    </script>

    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="#">At Your Service</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
              <a class="nav-link" href="#">Dashboard</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="#">Explore <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="#">My Requests</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="#">Notifications</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="#">Messages</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="#">User</a>
          </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
          <button class="btn btn-primary" type="submit">Search</button>
        </form>
      </div>
    </nav>
      
    <main role="main">
      <div class="jumbotron">
        <div class="container">
          <h1 class="display-3">Explore Services</h1>
          <p>This is a template for a simple marketing or informational website. It includes a large callout called a jumbotron and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
          <p><a class="btn btn-primary btn-lg" href="#" role="button">Learn more &raquo;</a></p>
        </div>
      </div>
    </main>

    <div class="jumbotron">
      <div class="container marketing">
          <p>What services do you need?</p>

          <div class="row">
            <div class="col-sm-2">
              <div class="row justify-content-center">
                <svg class="bd-placeholder-img rounded-circle " width="75" height="75" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#777"/><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
              </div>
              <p class="text-center">Academic Tutorials</p>
            </div>

            <div class="col-sm-2">
              <div class="row justify-content-center">
                <svg class="bd-placeholder-img rounded-circle " width="75" height="75" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#777"/><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
              </div>
              <p class="text-center">Academic Tutorials</p>
            </div>

            <div class="col-sm-2">
              <div class="row justify-content-center">
                <svg class="bd-placeholder-img rounded-circle " width="75" height="75" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#777"/><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
              </div>
              <p class="text-center">Academic Tutorials</p>
            </div>

            <div class="col-sm-2">
              <div class="row justify-content-center">
                <svg class="bd-placeholder-img rounded-circle " width="75" height="75" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#777"/><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
              </div>
              <p class="text-center">Academic Tutorials</p>
            </div>

            <div class="col-sm-2">
              <div class="row justify-content-center">
                <svg class="bd-placeholder-img rounded-circle " width="75" height="75" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#777"/><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
              </div>
              <p class="text-center">Academic Tutorials</p>
            </div>

            <div class="col-sm-2">
              <div class="row justify-content-center">
                <svg class="bd-placeholder-img rounded-circle " width="75" height="75" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#777"/><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
              </div>
              <p class="text-center">Academic Tutorials</p>
            </div>
          </div>
      </div>
    </div>

    <div>
    <p>{{ services }}</p>
    </div>

    <div class="container pb-5">
      <table
        id="table"
        data-search="true"
        data-show-search-button="true"
        data-show-search-clear-button="true"
        data-advanced-search="true"
        data-strict-search="true"
        data-id-table="advancedTable"
        data-show-refresh="true"
        data-pagination="true"
        data-page-size="6"
        data-show-custom-view="true"
        data-show-custom-view-button="true"
        data-custom-view="customViewFormatter">
        <thead>
          <tr>
            <th data-field="service_id">Service ID</th>
            <th data-field="service_title">Service Title</th>
            <th data-field="service_description">Service Description</th>
            <th data-field="service_user_id">Service User ID</th>
            <th data-field="service_user_rating">Service User Rating</th>
            <th data-field="service_user_level">Service User Level</th>
            <th data-field="service_user_is_trusted">Service User Is Trusted</th>
            <th data-field="service_date_posted">Service Date Posted</th>
            <th data-field="service_schedule">Service Schedule</th>
            <th data-field="service_location">Service Location</th>
            <th data-field="service_type">Service Type</th>
            <th data-field="service_category">Service Category</th>
            <th data-field="service_amount">Service Amount</th>
          </tr>
      </thead>
      </table>

      <template id="profileTemplate">
        <div class="col-4 mt-3">
          <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col-12">
                  <h4 class="mb-0 text-truncated">%TITLE%</h3>
                  <p class="lead">%USER_ID%</p>
                  <p>%USER_RATING%</p>
                  <p><span class="badge badge-info tags">%USER_LEVEL%</span> <span class="badge badge-info tags">%USER_IS_TRUSTED%</span></p>
                  <p>%DESCRIPTION%</p>
                  <p><small>%DATE_POSTED%</small></p>
                  <button class="btn btn-primary"><i class="far fa-heart"></i></button>
                  <button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">More info...</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <div class="container">
                  <h3 class="modal-title" id="exampleModalLabel">%MODAL_TITLE%</h5>
                  <p class="lead">%MODAL_USER_ID%</p>
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="container-fluid py-3">
                  <p><b>Service Category:</b> %CATEGORY%</p>
                  <p><b>Service Type:</b> %TYPE%</p>
                  <p><b>Description:</b></p>
                  <p>%MODAL_DESCRIPTION%</p>
                  <p><b>Schedule:</b> %SCHEDULE%</p>
                  <p><b>Location:</b> %LOCATION%</p>
                  <p><b>Amount:</b> â‚±%AMOUNT%</p>
                </div>
                <div class="container-fluid">
                  <button type="button" class="btn btn-primary btn-lg btn-block">Book now!</button>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </template>
    </div>
    {% endblock %}